# UART console (MCU-Link virtual COM port)
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_LOG=y
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_PRINTK=y

# Faster log processing
CONFIG_LOG_PROCESS_THREAD_STARTUP_DELAY_MS=0
CONFIG_LOG_BUFFER_SIZE=4096

# Shell over UART (for fault injection commands)
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y

# Thread awareness (for backtrace)
CONFIG_THREAD_NAME=y
CONFIG_THREAD_MONITOR=y

# Fault handling â€” keep Zephyr defaults (prints fault info)
CONFIG_CORTEX_M_DEBUG_MONITOR_HOOK=n

# Enable hardware stack protection (detects STKOF)
CONFIG_HW_STACK_PROTECTION=y

# GPIO (button-triggered faults)
CONFIG_GPIO=y

# Math
CONFIG_NEWLIB_LIBC=y

# RTT console and logging (for probe-rs testing)
CONFIG_USE_SEGGER_RTT=y
CONFIG_RTT_CONSOLE=y
CONFIG_LOG_BACKEND_RTT=y
CONFIG_SEGGER_RTT_BUFFER_SIZE_UP=4096
CONFIG_SEGGER_RTT_MODE_NO_BLOCK_SKIP=y

# Zephyr Thread Tracing (for Perfetto timeline visualization)
CONFIG_TRACING=y
CONFIG_TRACING_BACKEND_RTT=y
CONFIG_THREAD_MONITOR=y
CONFIG_THREAD_NAME=y
CONFIG_INIT_STACKS=y
CONFIG_THREAD_STACK_INFO=y
CONFIG_THREAD_RUNTIME_STATS=y
