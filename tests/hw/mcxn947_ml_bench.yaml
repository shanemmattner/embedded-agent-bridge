---
name: MCXN947 ML Benchmark
device: mcxn947
chip: mcxn947
timeout: 120

steps:
  - reset:
      chip: mcxn947
  - wait:
      pattern: "=== MCXN947 ML Benchmark"
      timeout: 10
  - wait:
      pattern: "DWT profiler initialized"
      timeout: 5
  - bench_capture:
      pattern: "\\[ML_BENCH\\] model=sine"
      timeout: 10
      expect:
        cycles_gt: 0
        time_us_gt: 0
  - bench_capture:
      pattern: "\\[ML_BENCH\\] model=person_detect"
      timeout: 60
      expect:
        cycles_gt: 0
        time_us_gt: 0
  - bench_capture:
      pattern: "\\[ML_BENCH\\] model=micro_speech"
      timeout: 30
      expect:
        cycles_gt: 0
        time_us_gt: 0
  - bench_done:
      pattern: "\\[ML_BENCH_DONE\\] board=frdm_mcxn947 models=3"
      timeout: 10
